<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>Get Rolling with Ruby on Rails in RadRails</title>
      <link rel="stylesheet" href="../../content/shared.css" type="text/css">
	  <!--<script type="text/javascript" src="http://www.aptana.com/docs/help.js"></script>-->
	  <!--<script type="text/javascript" src="http://www.aptana.com/docs/index.php?title=Get_Rolling_with_Ruby_on_Rails_in_RadRails&action=raw&gen=js">-->
	  <link rel="stylesheet" href="http://www.aptana.com/docs/" type="text/css">      
	  	<script>
	  var lastModifiedClient = "";
	  var fullUrl = "";
	  try
	  {
	     if(lastModifiedServer)
	        notifyUpdatedSource(lastModifiedClient, lastModifiedServer, fullUrl);
	  }
	  catch(e) {}	  
	</script>
	
   </head>
   <body>
      <div class="classBlock">		    <a href="http://www.aptana.com/" target="_blank"><img src="../../content/aptana.gif" border="0" hspace="21" vspace="7"></img></a><h1>Get Rolling with Ruby on Rails in RadRails [<a href="http://www.aptana.com/docs/index.php?title=Get_Rolling_with_Ruby_on_Rails_in_RadRails&action=edit">edit</a>]</h1>
         <div class="content">
            
					<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="#Creating_the_Application"><span class="tocnumber">2</span> <span class="toctext">Creating the Application</span></a></li>
<li class="toclevel-1"><a href="#Creating_the_Database_Connection"><span class="tocnumber">3</span> <span class="toctext">Creating the Database Connection</span></a>
<ul>
<li class="toclevel-2"><a href="#Configure_Your_Rails_App_to_Use_the_Database"><span class="tocnumber">3.1</span> <span class="toctext">Configure Your Rails App to Use the Database</span></a></li>
<li class="toclevel-2"><a href="#Sample_Cookbook_database.yml_.28using_MAMP.29"><span class="tocnumber">3.2</span> <span class="toctext">Sample Cookbook database.yml (using MAMP)</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Generating_an_Application_Scaffold"><span class="tocnumber">4</span> <span class="toctext">Generating an Application Scaffold</span></a></li>
<li class="toclevel-1"><a href="#Creating_the_Recipes_Table_with_a_Migration"><span class="tocnumber">5</span> <span class="toctext">Creating the Recipes Table with a Migration</span></a></li>
<li class="toclevel-1"><a href="#A_Look_at_the_Recipe_Model"><span class="tocnumber">6</span> <span class="toctext">A Look at the Recipe Model</span></a></li>
<li class="toclevel-1"><a href="#Inside_the_Recipes_Controller"><span class="tocnumber">7</span> <span class="toctext">Inside the Recipes Controller</span></a>
<ul>
<li class="toclevel-2"><a href="#A_Sample_Recipe_XML_Response"><span class="tocnumber">7.1</span> <span class="toctext">A Sample Recipe XML Response</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#The_Views"><span class="tocnumber">8</span> <span class="toctext">The Views</span></a></li>
<li class="toclevel-1"><a href="#Recipe_Categories"><span class="tocnumber">9</span> <span class="toctext">Recipe Categories</span></a>
<ul>
<li class="toclevel-2"><a href="#Adding_Categories_to_the_Cookbook"><span class="tocnumber">9.1</span> <span class="toctext">Adding Categories to the Cookbook</span></a>
<ul>
<li class="toclevel-3"><a href="#We_Need_Those_Categories_Stat.21"><span class="tocnumber">9.1.1</span> <span class="toctext">We Need Those Categories Stat!</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#The_AddCategoryToRecipe_Migration"><span class="tocnumber">9.2</span> <span class="toctext">The AddCategoryToRecipe Migration</span></a></li>
<li class="toclevel-2"><a href="#Assigning_a_Category_to_each_Recipe"><span class="tocnumber">9.3</span> <span class="toctext">Assigning a Category to each Recipe</span></a></li>
<li class="toclevel-2"><a href="#Displaying_Category_in_the_Recipes_List"><span class="tocnumber">9.4</span> <span class="toctext">Displaying Category in the Recipes List</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Introduction"></a><h2> <span class="mw-headline">Introduction</span></h2>
<p>This explains how to set up a sample Cookbook database and use it in building a Rails application with RadRails, and is adapted from the <a href="http://www.onlamp.com/pub/a/onlamp/2005/01/20/rails.html?page=1" class="external text" title="http://www.onlamp.com/pub/a/onlamp/2005/01/20/rails.html?page=1" rel="nofollow">Rolling with Ruby on Rails tutorial from ONLamp</a>.
</p><p>For more detailed information about using RadRails for specific tasks, see the individual Help topics on the <a href="RadRails.html" title="RadRails">RadRails main page.</a>
</p>
<a name="Creating_the_Application"></a><h2> <span class="mw-headline">Creating the Application</span></h2>
<ol><li> Switch to the RadRails perspective (by default Studio is in the Aptana perspective)
</li><li> Select File | New Project and, in the New Project Wizard, choose Rails Project
</li><li> Enter Cookbook as the Project name
</li><li> Choose SQLite3 or MySQL as the database and choose a different location for the project, if necessary, but otherwise leave all the other properties at their default value
</li><li> Click Finish
</li></ol>
<p>RadRails creates a Cookbook project, a new Mongrel server, launches the server and opens the default Rails homepage.
</p><p>You should see something similar to the image below if everything was created and configured correctly:
</p><p><a href="Image:Radrails-default-homepage.png.html" class="image" title="Radrails-default-homepage.png"><img alt="" src="docs/images/thumb/b/b4/Radrails-default-homepage.png/400px-Radrails-default-homepage.png" width="400" height="357" border="0" /></a>
</p>
<a name="Creating_the_Database_Connection"></a><h2> <span class="mw-headline">Creating the Database Connection</span></h2>
<p>In this tutorial we'll use a MySQL database and assume you have it installed and running locally.
</p>
<ol><li> Open the Databases perspective
</li><li> In the Databases View, click the <i>Add Connection</i> toolbar icon to open the Database Connections wizard
</li><li> Type in <i>localhost</i> as the connection name
</li><li> Update the connection string from the default (jdbc:mysql://&lt;host&gt;:3306/&lt;database&gt;) to jdbc:mysql://localhost:3306/<i>&lt;database&gt;</i> - Where <i>&lt;database&gt;</i> is the name of the MySQL database you have already created and plan to use for your Rails application during development.
</li><li> Enter your username and password
</li><li> Click <i>Test connection</i> to make sure you entered everything properly
</li><li> Click <i>Finish</i>
</li></ol>
<a name="Configure_Your_Rails_App_to_Use_the_Database"></a><h3> <span class="mw-headline">Configure Your Rails App to Use the Database</span></h3>
<ol><li> Switch to the RadRails perspective
</li><li> In the Ruby Explorer View, navigate to this project, expand the /config folder and open <b>database.yml</b>
</li><li> For each application environment update the values as appropriate
<ul><li> Make sure the adapter is specified as mysql and host is localhost (or localhost:port_number if MySQL is not running on 3306)
</li><li> On some operating systems and depending on how you installed MySQL, you may need to specify socket instead of host&mdash;for example if you use MAMP on Mac OS X, you will generally specify <i>socket: /Applications/MAMP/tmp/mysql/mysql.sock</i> and not host
</li></ul>
</li><li> In the Rake Tasks view, select the <i>db:create</i> task and click Go to create the three databases
</li></ol>
<a name="Sample_Cookbook_database.yml_.28using_MAMP.29"></a><h3> <span class="mw-headline">Sample Cookbook database.yml (using MAMP)</span></h3>
<pre>development:
 adapter: mysql
 database: cookbook_development
 username: root
 password: xxx
 timeout: 5000
 socket: /Applications/MAMP/tmp/mysql/mysql.sock

# Warning: The database defined as "test" will be erased and
# re-generated from your development database when you run "rake".
# Do not set this db to the same as development or production.
test:
 adapter: mysql
 database: cookbook_test
 username: root
 password: xxx
 timeout: 5000
 socket: /Applications/MAMP/tmp/mysql/mysql.sock

production:
 adapter: mysql
 database: cookbook
 username: root
 password: xxx
 timeout: 5000
 socket: /Applications/MAMP/tmp/mysql/mysql.sock
</pre>
<a name="Generating_an_Application_Scaffold"></a><h2> <span class="mw-headline">Generating an Application Scaffold</span></h2>
<p>For this exercise we'll use the Scaffold generator supplied with Rails in order to focus on more important first lessons; however once you are comfortable developing in Rails you will probably find yourself developing personal practices that do not include this generator.
</p><p>The Scaffold generator creates many of the core resources related to a single entity in your application so for Recipe you get:
</p>
<ul><li> a model: cookbook/app/models/recipe.rb
</li><li> a controller: cookbook/app/controllers/recipes_controller.rb
</li><li> a migration: cookbook/db/migrate/xxx_create_recipes.rb (where xxx is a timestamp based on when you generate the files, e.g., <i>20080910175017_create_recipes.rb</i>)
</li><li> a set of views: cookbook/app/views/recipes/*.html.erb (edit, index, new and show)
</li><li> a set of test scripts: /cookbook/test/fixtures/recipes.yml, /cookbook/test/functional/recipes_controller_test.rb and /cookbook/test/unit/recipe_test.rb
</li><li> a helper: /cookbook/app/helpers/recipes_helper.rb
</li></ul>
<p>The routes file (<i>/cookbook/config/routes.rb</i>) is updated, with a <code>map.resources&nbsp;:recipes</code> added at the top of the file.
</p><p>To generate these resources:
</p>
<ol><li> Go to the Generators view
</li><li> Select the Scaffold generator
</li><li> In the parameters field enter: Recipe title:string instructions:text
</li><li> Click Go--Studio will switch to the Console view and show you the files and folders created as well as any error messages
</li></ol>
<a name="Creating_the_Recipes_Table_with_a_Migration"></a><h2> <span class="mw-headline">Creating the Recipes Table with a Migration</span></h2>
<p>Open /cookbook/db/migrate/xxx_create_recipes.rb in the Ruby Explorer and you should see:
</p>
<pre>class CreateRecipes &lt; ActiveRecord::Migration
 def self.up
    create_table&nbsp;:recipes do |t|
     t.string&nbsp;:title
     t.text&nbsp;:instructions

     t.timestamps
   end
 end

 def self.down
   drop_table "recipes"
 end
end
</pre>
<p>To run the migration and create the Recipes table in the cookbook_development database:
</p>
<ol><li> Switch to the Rake Tasks view
</li><li> Select <i>db:migrate</i> from the dropdown list of tasks and click <i>Go</i>
</li></ol>
<p>If you switch back to the Databases perspective you should see Recipes in <i>localhost -&gt; cookbook_development -&gt; TABLES</i>.
</p><p><a href="Image:Database_explorer.png.html" class="image" title="Image:Database_explorer.png"><img alt="Image:Database_explorer.png" src="docs/images/4/45/Database_explorer.png" width="488" height="526" border="0" /></a>
</p><p>Switch back to the RadRails perspective.
</p>
<a name="A_Look_at_the_Recipe_Model"></a><h2> <span class="mw-headline">A Look at the Recipe Model</span></h2>
<p>The model can be found in the Ruby Explorer in <i>/cookbook/app/models/recipe.rb</i>, which should contain:
</p>
<pre>class Recipe &lt; ActiveRecord::Base
end
</pre>
<p>Leave the model unchanged.
</p>
<a name="Inside_the_Recipes_Controller"></a><h2> <span class="mw-headline">Inside the Recipes Controller</span></h2>
<p>Let's look at the generated controller (<i>/cookbook/app/controllers/recipes_controller.rb</i>).
</p><p>Because we used the Scaffold generator Rails includes all the methods needed for basic CRUD operations (create, read, update and delete) plus a list view (the index method), all of them capable of responding to requests for either HTML or XML. For each of the operations an HTML view file was also generated (the .html.erb files in /cookbook/app/views/recipes), with the exception of delete, which is covered with a link in the index view. XML requests are serviced by returning one recipe (new and edit) or multiple recipes (index) as XML streams.
</p>
<a name="A_Sample_Recipe_XML_Response"></a><h3> <span class="mw-headline">A Sample Recipe XML Response</span></h3>
<pre>&lt;recipe&gt;
   &lt;title&gt;Toast&lt;/title&gt;
  &lt;instructions&gt;Open the bag of bread, take out a slice, pop it in the toaster, turn on the toaster and wait for it to pop up.&lt;/instructions&gt;
&lt;/recipe&gt;
</pre>
<a name="The_Views"></a><h2> <span class="mw-headline">The Views</span></h2>
<p><b>Starting the Rails server:</b> Click on the cookbook project folder in the Ruby Explorer and then click the Run As toolbar icon. Unfortunately we haven't yet configured something to be the app's default page so you'll see the same start page as before, but we can get to any recipe view by changing the embedded browser's URL.
</p>
<ul><li> Index view: add <i>recipes</i> to the URL (make it <a href="http://127.0.0.1:3000/recipes" class="external free" title="http://127.0.0.1:3000/recipes" rel="nofollow">http://127.0.0.1:3000/recipes</a>) and you get an empty list
</li><li> New: click the New recipe link or add <i>/new</i> to the URL (make it <a href="http://127.0.0.1:3000/recipes/new" class="external free" title="http://127.0.0.1:3000/recipes/new" rel="nofollow">http://127.0.0.1:3000/recipes/new</a>)
</li><li> Edit: Go back to the list view and add <i>edit</i> to the URL (make it <a href="http://127.0.0.1:3000/recipes/edit" class="external free" title="http://127.0.0.1:3000/recipes/edit" rel="nofollow">http://127.0.0.1:3000/recipes/edit</a>)
</li></ul>
<p>Oh wait, that was a trick! There are no recipes to edit yet, of course, but even if there were you must pass an ID in the URL so the app knows which recipe to let you edit.
</p>
<ul><li> Go to the New Recipe page and add a recipe.
</li><li> After clicking Submit, the app displays the Show page; note the URL, which is <i>/recipes/1</i>
</li><li> If you click the edit link now, the URL is <i>/recipes/1/edit</i>
</li><li> Click the Back link to see the recipe list featuring your newly-added one
</li></ul>
<p><a href="Image:Rwr-recipe-index-view.png.html" class="image" title="Recipes List"><img alt="Recipes List" src="docs/images/thumb/f/f7/Rwr-recipe-index-view.png/400px-Rwr-recipe-index-view.png" width="400" height="257" border="0" /></a>
</p><p>The action links at the right end of the row let you see, change or delete a recipe.
</p><p>To make the recipe list the app default view (that is, load at <a href="http://127.0.0.1:3000" class="external free" title="http://127.0.0.1:3000" rel="nofollow">http://127.0.0.1:3000</a>):
</p>
<ul><li> Delete <i>/cookbook/public/index.html</i>
</li><li> Open <i>/cookbook/config/routes.rb</i>
</li><li> Find the commented out line <code>map.root&nbsp;:controller =&gt; "welcome"</code>
</li><li> Uncomment the line, change "welcome" to "recipes" and save the file.
</li></ul>
<a name="Recipe_Categories"></a><h2> <span class="mw-headline">Recipe Categories</span></h2>
<a name="Adding_Categories_to_the_Cookbook"></a><h3> <span class="mw-headline">Adding Categories to the Cookbook</span></h3>
<p>Once you start building a Rails app, chances are you'll find the need for additional tables and fields because of new requirements or better understanding of the application.
</p><p>Since categories are an entity equivalent to recipes in our system, use the scaffold generator again to create the basic entities. The parameter should be <i>Category name:string</i>. We only need the name since Rails automatically creates the ID primary key field as well as the timestamp fields. This gets you the same set of files as listed previously, model, controller, helper, migration, views and tests.
</p><p>The Rails Way to add fields to an existing model is by creating a new migration that uses a special file naming scheme informing Rails of the migration's purpose, using this naming pattern: <i>AddFieldname1Fieldname2Fieldname3ToModelName</i>.
</p><p>In this case we want to call the migration AddCategoryToRecipe, so the parameter to the migration generator is: <i>AddCategoryToRecipe category_id:int</i>
</p><p>Switch to Rake Tasks and have it execute the db:migrate task to create the Categories table and add the category ID field to Recipes.
</p>
<a name="We_Need_Those_Categories_Stat.21"></a><h4> <span class="mw-headline">We Need Those Categories Stat!</span></h4>
<p>For the rest of this tutorial to work we need to open the New Category view and add (at least) one category. So run the app again, if you stopped it, point the browser to <i><a href="http://127.0.0.1:3000/categories/new" class="external free" title="http://127.0.0.1:3000/categories/new" rel="nofollow">http://127.0.0.1:3000/categories/new</a></i> and enter a category, such as Sandwich.
</p><p><a href="Image:Rwr-new-category-view.png.html" class="image" title="New Category view"><img alt="New Category view" src="docs/images/thumb/4/40/Rwr-new-category-view.png/400px-Rwr-new-category-view.png" width="400" height="275" border="0" /></a>
</p>
<a name="The_AddCategoryToRecipe_Migration"></a><h3> <span class="mw-headline">The AddCategoryToRecipe Migration</span></h3>
<pre>class AddCategoryToRecipe &lt; ActiveRecord::Migration
 def self.up
   add_column&nbsp;:recipes,&nbsp;:category_id,&nbsp;:int
 end

 def self.down
   remove_column&nbsp;:recipes,&nbsp;:category_id
 end
end
</pre>
<a name="Assigning_a_Category_to_each_Recipe"></a><h3> <span class="mw-headline">Assigning a Category to each Recipe</span></h3>
<p>Creating a simple recipe/category relationship--a recipe can only be assigned to one category--in the application is done through a simple update to the recipe model.
</p>
<ul><li> Open <b>cookbook/app/models/recipe.rb</b> (or switch to the editor tab if you still have it open from before)
</li><li> Add the code <code>belongs_to&nbsp;:category</code> to the file so your code is:
</li></ul>
<pre>class Recipe &lt; ActiveRecord::Base
  belongs_to&nbsp;:category
end
</pre>
<ul><li> In the models folder, open <b>category.rb</b>
</li><li> Add the code <code>has_many&nbsp;:recipes</code> to your file so that your code is:
</li></ul>
<pre>class Category &lt; ActiveRecord::Base
  has_many&nbsp;:recipes
end
</pre>
<p>A more advanced relationship, where recipes can belong to multiple categories, is not much more difficult but will not be covered in this tutorial. Essentially you create a third table, to store unique combinations of recipe and category ID, and then use a has_and_belongs_to_many statement in both models.
</p><p>Rails validates the association so recipes cannot be saved without assigning a category.
</p><p>Next, add in the to_s method as shown:
</p>
<pre>class Category &lt; ActiveRecord::Base
  has_many&nbsp;:recipes
 
  def to_s
    "#{name}"
  end
end
</pre>
<p>The to_s method means that calls to a category object will return the category's name, rather than requiring you to put an explicit call to name, such as recipe.category rather than recipe.category.name.
</p><p>Third, update the Recipes controller to get a list of categories to use in the recipe edit view:
</p>
<ul><li> In <i>/cookbook/app/controllers/recipes_controller.rb</i>
</li><li> Add the line <code>@categories = Category.find(:all)</code> as the last line in the new and edit methods:
</li></ul>
<pre> # GET /recipes/new
 # GET /recipes/new.xml
 def new
   @recipe = Recipe.new
   @categories = Category.find(:all)

   respond_to do |format|
     format.html # new.html.erb
     format.xml  { render&nbsp;:xml =&gt; @recipe }
   end
 end

 # GET /recipes/1/edit
 def edit
   @recipe = Recipe.find(params[:id])
   @categories = Category.find(:all)
 end
</pre>
<p>The views must also be updated with a category select widget so add the following code block to <i>/cookbook/app/view/recipes/edit.html.erb</i> and <i>/cookbook/app/view/recipes/new.html.erb</i>:
</p>
<pre> &lt;p&gt;
   &lt;%= f.label&nbsp;:category&nbsp;%&gt;&lt;br /&gt;
   &lt;%= select "recipe", "category_id", Category.find(:all).collect {|p| [ p.name, p.id ] }, {:include_blank =&gt; true}&nbsp;%&gt;
 &lt;/p&gt;
</pre>
<p><a href="Image:Rwr-new-recipe-w-category.png.html" class="image" title="New recipe form with category field"><img alt="New recipe form with category field" src="docs/images/thumb/f/f3/Rwr-new-recipe-w-category.png/400px-Rwr-new-recipe-w-category.png" width="400" height="282" border="0" /></a>
</p>
<a name="Displaying_Category_in_the_Recipes_List"></a><h3> <span class="mw-headline">Displaying Category in the Recipes List</span></h3>
<p>Since the recipe list view was generated before the category relationship was created the list doesn't show a recipe's category.
</p><p>This is easily corrected:
</p>
<ul><li> Open <i>/cookbook/app/view/recipes/index.html.erb</i>
</li><li>Â In the table header row add <code>&lt;th&gt;Category&lt;/th&gt;</code>
</li><li> In the <code>for recipe in @recipes</code> loop add the line <code>&lt;td&gt;&lt;%=h recipe.category.name&nbsp;%&gt;&lt;/td&gt;</code> to get the code below:
</li></ul>
<pre>&lt;h1&gt;Listing recipes&lt;/h1&gt;

&lt;table&gt;
 &lt;tr&gt;
   &lt;th&gt;Title&lt;/th&gt;
   &lt;th&gt;Category&lt;/th&gt;
   &lt;th&gt;Instructions&lt;/th&gt;
 &lt;/tr&gt;

&lt;% for recipe in @recipes&nbsp;%&gt;
 &lt;tr&gt;
   &lt;td&gt;&lt;%=h recipe.title&nbsp;%&gt;&lt;/td&gt;
   &lt;td&gt;&lt;%=h recipe.category.name&nbsp;%&gt;&lt;/td&gt;
   &lt;td&gt;&lt;%=h recipe.instructions&nbsp;%&gt;&lt;/td&gt;
   &lt;td&gt;&lt;%= link_to 'Show', recipe&nbsp;%&gt;&lt;/td&gt;
   &lt;td&gt;&lt;%= link_to 'Edit', edit_recipe_path(recipe)&nbsp;%&gt;&lt;/td&gt;
   &lt;td&gt;&lt;%= link_to 'Destroy', recipe,&nbsp;:confirm =&gt; 'Are you sure?',&nbsp;:method =&gt;&nbsp;:delete&nbsp;%&gt;&lt;/td&gt;
 &lt;/tr&gt;
&lt;% end&nbsp;%&gt;
&lt;/table&gt;

&lt;br /&gt;

&lt;%= link_to 'New recipe', new_recipe_path&nbsp;%&gt;
</pre>
<p><a href="Image:Rwr-recipe-list-w-category.png.html" class="image" title="New recipe form with category field"><img alt="New recipe form with category field" src="docs/images/thumb/3/38/Rwr-recipe-list-w-category.png/400px-Rwr-recipe-list-w-category.png" width="400" height="178" border="0" /></a>
</p>
<!-- Saved in parser cache with key wikidb-aptana_:pcache:idhash:1814-0!1!0!!en!2!edit=0 and timestamp 20090202113550 -->
<div class="printfooter">
Retrieved from "<a href="http://aptana.com/docs/index.php/Get_Rolling_with_Ruby_on_Rails_in_RadRails">http://aptana.com/docs/index.php/Get_Rolling_with_Ruby_on_Rails_in_RadRails</a>"</div>
					<div id="catlinks"><p class='catlinks'><a href="Special:Categories.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="http://www.aptana.com/docs/index.php?title=Category:AptanaHelp&amp;action=edit" class="new" title="Category:AptanaHelp">AptanaHelp</a></span> | <span dir='ltr'><a href="http://www.aptana.com/docs/index.php?title=Category:RadRails&amp;action=edit" class="new" title="Category:RadRails">RadRails</a></span> | <span dir='ltr'><a href="Category:Walkthroughs.html" title="Category:Walkthroughs">Walkthroughs</a></span></p></div>					<script>
						var lastModifiedClient = "";
						var fullUrl = "";
						try
						{
						   if(lastModifiedServer)
						      notifyUpdatedSource(lastModifiedClient, lastModifiedServer, fullUrl);
						}
						catch(e) {}
					</script>
					 
         </div>
      </div>
   </body>
</html> 
